![svelte](https://github.com/descope-sample-apps/svelte-sample-app/assets/59460685/3c672d69-e337-42f5-a6f5-32d7fab19839)

# Svelte Sample App

Integrate Descope Authentication in Svelte with SvelteKit Auth by building a company landing page. 

##  üé® Features
- [Descope](https://descope.com/) SvelteKit authentication üîê
- Customizable landing page.
- Protected Profile page with SvelteKit Auth.
- Fully responsive UI (mobile, tablet, computer).


## ‚ú® Made with...
- [Descope](https://www.descope.com/)
- [SvelteKit Auth](https://authjs.dev/reference/sveltekit)

## ‚öôÔ∏è Setup

1. Clone the repository:

```
git clone https://github.com/descope-sample-apps/svelte-sample-app.git
```

2. Install dependencies:

```
npm install
```

3. Setup environment variables:

```
DESCOPE_ID="YOUR_DESCOPE_PROJECT_ID"
DESCOPE_SECRET="YOUR_DESCOPE_ACCESS_KEY"
DISCOVERY_URL="YOUR_DISCOVERY_URL"
ISSUER_URL="YOUR_ISSUER_URL"
AUTH_SECRET="YOUR_AUTH_SECRET"
```
- ```DESCOPE_ID```: can be found in your Descope's account under the [Project page](https://app.descope.com/settings/project)
- ```DESCOPE_SECRET```: can be generated in your Descope's account under the [Access Keys page](https://app.descope.com/accesskeys)
- ```DISCOVERY_URL```: can be found in your Descope Console under the [Applications page](https://app.descope.com/applications) and editing the active application
- ```ISSUER_URL```: can be found in your Descope's account under the [Applications page](https://app.descope.com/applications) and editing the active application
- ```AUTH_SECRET```: can be generated by the following command in your terminal (do not use the same generated value for both) or by going to this [site](https://generate-secret.vercel.app/32):
```
$ openssl rand -base64 32
```

4. Setup SSO:

Navigate to Descope Project --> Authentication methods --> Identity Provider. <br />
To enable SSO and add Descope as an Identity Provider (IdP), we need to add our flow hosting URL: 
```
https://auth.descope.io/<YOUR_DESCOPE_PROJECT_ID>
```
5. Setup OIDC Provider in Descope:

Navigate to Descope Project --> Authentication Methods --> Social Login (OAuth/ OIDC) <br />
- Click on "Add custom provider"
- Configure the following settings:
   - Name: "Descope" (or any name you prefer)
   - Client ID: This will be your `DESCOPE_ID`
   - Client Secret: This will be your `DESCOPE_SECRET`
   - Authorization URL: `https://api.descope.com/oauth2/v1/authorize`
   - Token URL: `https://api.descope.com/oauth2/v1/token`
   - User Info URL: `https://api.descope.com/oauth2/v1/userinfo`
   - Scopes: `openid` `email` `profile`
   - Redirect URI: `http://localhost:3000/auth/callback/descope` (for local development)

<img src="./readme-assets/oidc.png" />

## üîÆ Running the Application 

To start the application, run:

```
npm run dev
```

## üöÄ Deploy
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fdescope-sample-apps%2Fsvelte-sample-app&env=DESCOPE_ID,DESCOPE_SECRET,AUTH_SECRET)

## ‚ö†Ô∏è Issue Reporting

For any issues or suggestions, feel free to open an issue in the GitHub repository.

## üìú License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
